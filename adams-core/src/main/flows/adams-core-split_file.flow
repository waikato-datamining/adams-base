# Project: adams
# Date: 2025-11-24 11:12:10
# User: fracpete
# Charset: UTF-8
# Modules: adams-core
#
adams.flow.control.Flow -annotation "Allows splitting large files (binary or text) into smaller ones.\\n\\nYou can use the following flow to merge them again:\\nadams-core-merge_files.flow" -execute-on-error adams.flow.control.postflowexecution.Null -execute-on-finish adams.flow.control.postflowexecution.Null -flow-execution-listener adams.flow.execution.NullListener -flow-restart-manager adams.flow.control.flowrestart.NullManager
 adams.flow.standalone.CallableActors
  adams.flow.sink.Display -display-type adams.flow.core.displaytype.Default -writer adams.data.io.output.NullWriter
 adams.flow.source.Start
 adams.flow.control.Trigger -name "prompt user"
  adams.flow.standalone.SetVariable -name "restore file" -var-name restore -var-value @{flow_filename_long}.props -value-type FILE_FORWARD_SLASHES -expand-value true
  adams.flow.source.EnterManyValues -name Parameters -stop-if-canceled true -value "adams.flow.source.valuedefinition.FileValueDefinition -name input_file -display \"Input file\" -help \"the file to split\" -file-chooser-title \"Input file\" -extension zip -extension tar -extension gz -extension rar -use-forward-slashes true -use-absolute-path true -accept-all-file-filter true" -value "adams.flow.source.valuedefinition.ListSelectionValueDefinition -name file_type -display \"File type\" -help \"whether the file is text or binary\" -value TEXT -value BINARY -default-value BINARY" -value "adams.flow.source.valuedefinition.ListSelectionValueDefinition -name split_type -display \"Split type\" -help \"how to split the files into fixed size or fixed number\" -value fixed_size -value fixed_number -default-value fixed_number" -value "adams.flow.source.valuedefinition.DefaultValueDefinition -name num_files -display \"# files\" -help \"the number of files to split the input file into\" -type INTEGER -default-value 10" -value "adams.flow.source.valuedefinition.DefaultValueDefinition -name file_size -display \"File size\" -help \"the size of files to generate when using \\\"fixed_size\\\"\" -type INTEGER -default-value 2000000000" -value "adams.flow.source.valuedefinition.DefaultValueDefinition -name buffer_size -display \"Buffer size\" -help \"the size of the buffer to use (in bytes)\" -type INTEGER -default-value 10240000" -value "adams.flow.source.valuedefinition.DirectoryValueDefinition -name output_dir -display \"Output dir\" -help \"the directory to store the generated splits in\" -file-chooser-title \"Output dir\" -use-forward-slashes true -use-absolute-path true" -output-type MAP -restoration-enabled true -restoration-file @{restore}
  adams.flow.transformer.MapToVariables
 adams.flow.control.Trigger -name "generate prefix"
  adams.flow.source.Start
  adams.flow.control.Trigger -name filename
   adams.flow.source.Variable -var-name input_file -conversion adams.data.conversion.StringToString
   adams.flow.transformer.BaseName -remove-extensions true
   adams.flow.transformer.StringInsert -after true -value -
   adams.flow.transformer.SetVariable -var-name fname
  adams.flow.control.Trigger -name prefix
   adams.flow.source.Variable -var-name output_dir -conversion adams.data.conversion.StringToString
   adams.flow.transformer.AppendName -suffix @{fname} -use-forward-slashes true
   adams.flow.transformer.Convert -conversion "adams.data.conversion.StringToFile -placeholderfile true"
   adams.flow.transformer.Convert -name "Convert (2)" -conversion "adams.data.conversion.FileToString -absolute true -use-forward-slashes true"
   adams.flow.transformer.SetVariable -var-name prefix
 adams.flow.control.Trigger -name process
  adams.flow.source.Variable -var-name input_file -conversion adams.data.conversion.StringToString
  adams.flow.control.Switch -condition "adams.flow.condition.bool.HasVariableValue -variable-name split_type -value fixed_size" -condition "adams.flow.condition.bool.HasVariableValue -variable-name split_type -value fixed_number"
   adams.flow.transformer.SplitFile -name fixed_size -splitter "adams.flow.transformer.splitfile.SplitBySize -prefix @{prefix} -file-type @{file_type} -buffer-size @{buffer_size} -max-size @{file_size}"
   adams.flow.transformer.SplitFile -name fixed_number -splitter "adams.flow.transformer.splitfile.SplitByNumber -prefix @{prefix} -file-type @{file_type} -buffer-size @{buffer_size} -num-files @{num_files}"
  adams.flow.transformer.ArrayToSequence
  adams.flow.sink.CallableSink -callable Display